# DEPRECATED: This workflow is replaced by ci-cd.yml
# All content below is commented out to prevent YAML syntax errors

# name: Auto Process PDFs

# on:
#   push:
#     paths:
#       - 'public/pdf/**'
#       - 'public/pdf/manifest.json'
#   workflow_dispatch:
#     inputs:
#       chunkSize:
#         description: 'ì²­í¬ í¬ê¸° (ë¬¸ì ìˆ˜)'
#         required: true
#         default: '2000'
#         type: string
#       overlapSize:
#         description: 'ì˜¤ë²„ë© í¬ê¸° (ë¬¸ì ìˆ˜)'
#         required: true
#         default: '200'
#         type: string

# permissions:
#   contents: write
#   pages: write
#   id-token: write

# jobs:
#   auto-process-pdfs:
#     runs-on: ubuntu-latest
#     
#     steps:
#     - name: Checkout
#       uses: actions/checkout@v4
#       
#     - name: Setup Node.js
#       uses: actions/setup-node@v4
#       with:
#         node-version: '18'
#         cache: 'npm'
#         
#     - name: Install dependencies
#       run: npm install
#       
#     - name: Check for PDF changes
#       id: changes
#       run: |
#         if [ -n "$(git status --porcelain public/pdf/)" ]; then
#           echo "pdf_changes=true" >> $GITHUB_OUTPUT
#           echo "PDF íŒŒì¼ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."
#         else
#           echo "pdf_changes=false" >> $GITHUB_OUTPUT
#           echo "PDF íŒŒì¼ ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤."
#         fi
#         
#     - name: Process PDFs with custom settings
#       if: steps.changes.outputs.pdf_changes == 'true' || github.event_name == 'workflow_dispatch'
#       run: |
#         echo "ğŸ”§ PDF ì²˜ë¦¬ ì„¤ì •:"
#         echo "   ì²­í¬ í¬ê¸°: ${{ github.event.inputs.chunkSize || 2000 }}"
#         echo "   ì˜¤ë²„ë© í¬ê¸°: ${{ github.event.inputs.overlapSize || 200 }}"
#         
#         # í™˜ê²½ë³€ìˆ˜ ì„¤ì •
#         export CHUNK_SIZE=${{ github.event.inputs.chunkSize || 2000 }}
#         export OVERLAP_SIZE=${{ github.event.inputs.overlapSize || 200 }}
#         
#         # PDF ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
#         echo "ğŸš€ PDF ì²˜ë¦¬ ì‹œì‘..."
#         node scripts/process-all-pdfs-quality.js
#         echo "âœ… PDF ì²˜ë¦¬ ì™„ë£Œ!"
#       env:
#         VITE_GEMINI_API_KEY: ${{ secrets.VITE_GEMINI_API_KEY }}
#         
#     - name: Check for JSON changes
#       id: json_changes
#       run: |
#         if [ -n "$(git status --porcelain public/data/processed-pdfs.json)" ]; then
#           echo "json_changes=true" >> $GITHUB_OUTPUT
#           echo "processed-pdfs.jsonì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤."
#         else
#           echo "json_changes=false" >> $GITHUB_OUTPUT
#           echo "processed-pdfs.json ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤."
#         fi
#         
#     - name: Commit and push changes
#       if: steps.json_changes.outputs.json_changes == 'true'
#       run: |
#         git config --local user.email "action@github.com"
#         git config --local user.name "GitHub Action"
#         git add public/data/processed-pdfs.json
#         git commit -m "Auto-update processed-pdfs.json [skip ci]

#         - ì²­í¬ í¬ê¸°: ${{ github.event.inputs.chunkSize || 2000 }}ì
#         - ì˜¤ë²„ë© í¬ê¸°: ${{ github.event.inputs.overlapSize || 200 }}ì
#         - ì²˜ë¦¬ ì‹œê°„: $(date)"
#         git push
#         
#     - name: Build and deploy
#       if: steps.json_changes.outputs.json_changes == 'true'
#       run: |
#         echo "ğŸ—ï¸ ë¹Œë“œ ì‹œì‘..."
#         echo "ğŸ”§ PDF ì²˜ë¦¬ ì„¤ì •:"
#         echo "   ì²­í¬ í¬ê¸°: ${{ github.event.inputs.chunkSize || 2000 }}"
#         echo "   ì˜¤ë²„ë© í¬ê¸°: ${{ github.event.inputs.overlapSize || 200 }}"
#         npm run build
#         echo "âœ… ë¹Œë“œ ì™„ë£Œ!"
#       env:
#         VITE_GEMINI_API_KEY: ${{ secrets.VITE_GEMINI_API_KEY }}
#         CHUNK_SIZE: ${{ github.event.inputs.chunkSize || 2000 }}
#         OVERLAP_SIZE: ${{ github.event.inputs.overlapSize || 200 }}
#         
#     - name: Setup Pages
#       if: steps.json_changes.outputs.json_changes == 'true'
#       uses: actions/configure-pages@v4
#       
#     - name: Upload artifact
#       if: steps.json_changes.outputs.json_changes == 'true'
#       uses: actions/upload-pages-artifact@v3
#       with:
#         path: ./dist
#         
#     - name: Deploy to GitHub Pages
#       if: steps.json_changes.outputs.json_changes == 'true'
#       uses: actions/deploy-pages@v4
#       
#     - name: Notify completion
#       run: |
#         echo "ğŸ‰ PDF ìë™ ì²˜ë¦¬ ì™„ë£Œ!"
#         echo "ğŸ“Š ì²˜ë¦¬ ê²°ê³¼:"
#         echo "   - PDF ë³€ê²½ì‚¬í•­: ${{ steps.changes.outputs.pdf_changes }}"
#         echo "   - JSON ì—…ë°ì´íŠ¸: ${{ steps.json_changes.outputs.json_changes }}"
#         echo "   - ì²­í¬ í¬ê¸°: ${{ github.event.inputs.chunkSize || 2000 }}ì"
#         echo "   - ì˜¤ë²„ë© í¬ê¸°: ${{ github.event.inputs.overlapSize || 200 }}ì"